{% load static %}
<!DOCTYPE html>
<html lang="ko">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Cos-tard 인스타그램 인플루언서 분석 시스템</title>
    <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- plugins:css -->
    <link rel="stylesheet" href="../../static/templates/assets/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="../../static/templates/assets/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="../../static/templates/assets/css/style.css">
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="{% static 'assets/homepage_icon.jpg' %}" />
    <!-- font link-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merienda:wght@700&family=Ubuntu&display=swap" rel="stylesheet">
    <script src="{% static 'js/svgJs1.js' %}"></script>
    <script src="{% static 'js/svgJs2.js' %}"></script>
    <style>
      .small-image {
          width: 170px;  /* Adjust the width as needed */
          height: auto;  /* Automatically adjust the height to maintain the aspect ratio */
          margin: 3px;  /* Add some spacing between images */
      }
      .medium-image {
          width: 100%;
          height: 250px;
          object-fit: cover;  
      }
      #websitelink a {
          text-decoration: none; /* Remove underline */
          color: black; /* Change link color to black */
      }
   
      .post-content {
          width: 100%;
          padding: 20px;
      }

      .description {
          margin: 10px 0;
          font-size: 14px;
          line-height: 20px;
      }

      .description span {
          font-weight: bold;
          margin-right: 10px;
      }

      .post-time {
          color: rgba(0, 0, 0, 0.5);
          font-size: 12px;
      }
      
      .reaction-wrapper {
          width: 100%;
          height: 50px;
          display: flex;
          margin-top: -20px;
          align-items: center;
      }

      .reaction-wrapper .icon {
          height: 25px;
          margin: 0;
          margin-right: 20px;
      }

      .reaction-wrapper .icon.save {
          margin-left: auto;
      }

      .info {
          width: 100%;
          height: 60px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0 20px;
      }

      .info .username {
          width: auto;
          font-weight: bold;
          color: #000;
          font-size: 14px;
          margin-left: 10px;
      }

      .info .options {
          height: 10px;
          cursor: pointer;
      }

      .info .user {
          display: flex;
          align-items: center;
      }

      iframe {
        width: 100%;
        border: none;
      }

    .sidebar,.main-panel {
      overflow-y:scroll;
      }

    .container-scroller {
      overflow:hidden !important;
    }

    iframe {
      width: 100%;
      border: none;
    }
      
    @font-face {
      font-family: 'NanumSquareNeo-Variable';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_11-01@1.0/NanumSquareNeo-Variable.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
    }
      
    ::-webkit-scrollbar {
      display:none;
    }
    </style>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <!-- move_to_top_btn 제어 로직 js -->
    <script src="{% static 'js/scripts.js' %}"></script>
  </head>
  <body>
    <div class="container-scroller">
      <nav class="navbar navbar-expand-lg navbar-dark " style="background-color: #f1f3f5">
        <div class="container px-5">
            <a class="navbar-brand fw-bolder text-black nav-text-ani" href="{% url 'home-page' %}">Cos-tard</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link fw-bold text-black nav-text-ani" href="{% url 'home-page' %}">메인</a></li>
                    <li class="nav-item"><a class="nav-link fw-bold text-black nav-text-ani" href="{% url 'InfluencerList:list-page' %}">리스트</a></li>
                    <li class="nav-item"><a class="nav-link fw-bold text-black nav-text-ani" href="{% url 'analysis:analysis-page2' %}?ig_id=17157849559">분석</a></li>
                    <li class="nav-item"><a class="nav-link fw-bold text-black nav-text-ani" href="{% url 'recommend:recommend-page' %}">추천</a></li>
                    <li class="nav-item"><a class="nav-link fw-bold text-black nav-text-ani" href="{% url 'about-page' %}">팀소개</a></li>
                </ul>
            </div>
        </div>
      </nav>
      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <!-- partial:partials/_sidebar.html -->
         <nav class="sidebar sidebar-offcanvas" id="sidebar">
          <ul class="nav">
            <li class="nav-item nav-profile" style="padding-top: 20px; padding-bottom: 10px;">
              <div class="nav-profile-text d-flex flex-column">
                <h4>Influencer List</h4>
              </div>
            </li>
            
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=336104951">
                <div class="nav-profile-image">
                  <img src="/static/assets/2__yun__2.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@2__yun__2</span>
                  <span class="text-secondary text-small">정다윤</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=2968116744">
                <div class="nav-profile-image">
                  <img src="/static/assets/a_arang_.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@a_arang_</span>
                  <span class="text-secondary text-small">아랑</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=469003556">
                <div class="nav-profile-image">
                  <img src="/static/assets/areumsongee.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@areumsongee</span>
                  <span class="text-secondary text-small">아름송이</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=29457331">
                <div class="nav-profile-image">
                  <img src="/static/assets/calarygirl_a.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@arecalarygirl_...</span>
                  <span class="text-secondary text-small">회사원</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=4475701104">
                <div class="nav-profile-image">
                  <img src="/static/assets/doublesoup.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@doublesoup</span>
                  <span class="text-secondary text-small">김습습</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=1551988066">
                <div class="nav-profile-image">
                  <img src="/static/assets/fallininm.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@fallininm</span>
                  <span class="text-secondary text-small">민카롱</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=1579839464">
                <div class="nav-profile-image">
                  <img src="/static/assets/hamnihouse.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@hamnihouse</span>
                  <span class="text-secondary text-small">햄니</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=490239300">
                <div class="nav-profile-image">
                  <img src="/static/assets/hyojinc_.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@hyojinc_</span>
                  <span class="text-secondary text-small">조효진</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=1483485095">
                <div class="nav-profile-image">
                  <img src="/static/assets/im_jella_.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@im_jella_</span>
                  <span class="text-secondary text-small">젤라</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=1239639319">
                <div class="nav-profile-image">
                  <img src="/static/assets/kisy0729.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@kisy0729</span>
                  <span class="text-secondary text-small">홍영기</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=12885734">
                <div class="nav-profile-image">
                  <img src="/static/assets/lamuqe_magicup.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@lamuqe_magicup</span>
                  <span class="text-secondary text-small">라뮤끄</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=1555054356">
                <div class="nav-profile-image">
                  <img src="/static/assets/leojmakeup.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@leojmakeup</span>
                  <span class="text-secondary text-small">레오제이</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=432834627">
                <div class="nav-profile-image">
                  <img src="/static/assets/makeup_maker_.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@makeup_maker_</span>
                  <span class="text-secondary text-small">상은언니</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=545774776">
                <div class="nav-profile-image">
                  <img src="/static/assets/ponysmakeup.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@ponysmakeup</span>
                  <span class="text-secondary text-small">포니</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=301432357">
                <div class="nav-profile-image">
                  <img src="/static/assets/r_yuhyeju.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@r_yuhyeju</span>
                  <span class="text-secondary text-small">유혜주</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=416638723">
                <div class="nav-profile-image">
                  <img src="/static/assets/risabae_art.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@risabae_art</span>
                  <span class="text-secondary text-small">이사배</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=1288797716">
                <div class="nav-profile-image">
                  <img src="/static/assets/ssinnim.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@ssinnim</span>
                  <span class="text-secondary text-small">씬님</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=370080040">
                <div class="nav-profile-image">
                  <img src="/static/assets/vivamoon.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@vivamoon</span>
                  <span class="text-secondary text-small">문이</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=477764638">
                <div class="nav-profile-image">
                  <img src="/static/assets/yeondukong.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@yeondukong</span>
                  <span class="text-secondary text-small">연두콩</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=3750608342">
                <div class="nav-profile-image">
                  <img src="/static/assets/yu__hyewon.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@yu__hyewon</span>
                  <span class="text-secondary text-small">혜원</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=1244405915">
                <div class="nav-profile-image">
                  <img src="/static/assets/yujin_so.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@yujin_so</span>
                  <span class="text-secondary text-small">소유진</span>
              </div>
              </a>
            </li>
            <li class="nav-item nav-profile">
              <a class="nav-link" href="{% url 'analysis:analysis-page2' %}?ig_id=17157849559">
                <div class="nav-profile-image">
                  <img src="/static/assets/yulri_0i.jpg" alt="profile">
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">@yulri_0i</span>
                  <span class="text-secondary text-small">율리</span>
              </div>
              </a>
            </li>  
          </ul>
        </nav> 
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <div class="page-header">
              <h1 class="page-title">
                <span> Influencer Analysis</span>
              </h1>
              {% comment %} <nav aria-label="breadcrumb">
                <ul class="breadcrumb">
                  <li class="breadcrumb-item active" aria-current="page">
                    <span></span>Overview <i class="mdi mdi-alert-circle-outline icon-sm text-primary align-middle"></i>
                  </li>
                </ul>
              </nav> {% endcomment %}
            </div>
            <div class="row">
              <div class="col-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex mt-4 mb-4 align-items-top">
                      <img id="profileimg" class="img-lg rounded-circle me-4" alt="image">
                      <div class="mb-0 flex-grow">
                        <h4 id="username" class="me-2 mb-2" style="font-family: 'NanumSquareNeo-Variable'"></h4>
                        <h4 class="card-title useriddisplay"></h4>
                        <p id="biography" class="mb-0 font-weight-light" style="font-family: 'NanumSquareNeo-Variable'"></p>
                        <p id="websitelink" class="mb-0 font-weight-light"></p>
                      </div>
                      <div class="ms-auto">
                        <i class="mdi mdi-heart-outline text-muted"></i>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-4 stretch-card grid-margin">
                        <div class="card bg-gradient-danger card-img-holder text-white">
                          <div class="card-body">
                            <img src="../../static/templates/assets/images/dashboard/circle.svg" class="card-img-absolute" alt="circle-image" />
                            <h4 class="font-weight-normal mb-3">Followers <i class="mdi mdi-chart-line mdi-24px float-right"></i>
                            </h4>
                            <h2 class="mb-5" id="followers_count">
                            </h2>
                            <h6 class="card-text" id="diffdisplay"></h6>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-4 stretch-card grid-margin">
                        <div class="card bg-gradient-info card-img-holder text-white">
                          <div class="card-body">
                            <img src="../../static/templates/assets/images/dashboard/circle.svg" class="card-img-absolute" alt="circle-image" />
                            <h4 class="font-weight-normal mb-3">Feed <i class="mdi mdi-bookmark-outline mdi-24px float-right"></i>
                            </h4>
                            <h2 class="mb-5" id="media_count"></h2>
                            <h6 class="card-text" id="timestampdisplay"></h6>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-4 stretch-card grid-margin">
                        <div class="card bg-gradient-success card-img-holder text-white">
                          <div class="card-body">
                            <img src="../../static/templates/assets/images/dashboard/circle.svg" class="card-img-absolute" alt="circle-image" />
                            <h4 class="font-weight-normal mb-3">Image <i class="mdi mdi-diamond mdi-24px float-right"></i>
                            </h4>
                            <h2 class="mb-5" id="maximage"></h2>
                            <h6 class="card-text"></h6>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex">
                      <div class="d-flex align-items-center text-muted font-weight-light">
                        <i class="mdi mdi-clock icon-sm me-2"></i>
                        <span id="date"></span>
                      </div>
                    </div>                   
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-7 grid-margin stretch-card">
                  <div class="card">
                    <div class="card-body">
                      <div class="clearfix">
                        <h4 class="card-title float-left">Feed Statistics</h4>
                        <p class="card-description" style="font-family: 'NanumSquareNeo-Variable'"> *총 팔로워 대비 좋아요와 댓글 수</p>
                        <div id="feedchart-legend" class="rounded-legend legend-horizontal legend-top-right float-right"></div>
                      </div>
                      <canvas id="feedchart" class="mt-4"></canvas>
                    </div>
                  </div>
                </div>
                <div class="col-md-5 grid-margin stretch-card">
                  <div class="card">
                    <div class="card-body">
                      <h4 class="card-title">Media Ratio</h4>
                      <p class="card-description" style="font-family: 'NanumSquareNeo-Variable'"> *2023-07 기준</p>
                      <canvas id="mediachart"></canvas>
                      <div id="mediachart-legend" class="rounded-legend legend-vertical legend-bottom-left pt-4"></div>
                    </div>
                  </div>
                </div>
              </div>
            <div class="row">
              <div class="col-md-7 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Post Insight</h4>
                    <p class="card-description" style="font-family: 'NanumSquareNeo-Variable'"> *한달 기준</p>
                   <table class="table table-hover">
                      <tbody>
                        <tr>
                          <td>평균 좋아요 수는</td>
                          <td style="color:#b66dff" id="average_like"></td>
                          <td>이에요</td>
                        </tr>
                        <tr>
                          <td>평균 댓글 수는</td>
                          <td style="color:#b66dff" id="average_comment"></td>
                          <td>이에요</td>
                        </tr>
                        <tr>
                          <td>평균 게시글 수는</td>
                          <td style="color:#b66dff" id="average_media"></td>
                          <td>이에요</td>
                        </tr>
                        <tr>
                          <td>참여 지수는</td>
                          <td id="engagement"></td>
                          <td>이에요</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                    <div class="card-body">
                    <h4 class="card-title">Follower Insight</h4>
                   <table class="table table-hover">
                      <tbody>
                        <tr>
                          <td>팔로워는 약</td>
                          <td id="average"></td>
                          <td>명씩 변하고있어요</td>
                        </tr>
                        <tr>
                          <td>증가율 평균은</td>
                          <td id="average_growth"></td>
                          <td>이에요</td>
                        </tr>
                        <tr>
                          <td>팔로워가</td>
                          <td style="color:#b66dff" class="max-growth-date"></td>
                          <td>에 가장 많이 증가했어요</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div class="card-body">
                    <h4 class="card-title">Summary</h4>
                    <ul class="list-star">
                      <li class="h5" id="compare" style="font-family: 'NanumSquareNeo-Variable'"></li>
                      <li class="h5" id="compareengagement" style="font-family: 'NanumSquareNeo-Variable'"></li>
                    </ul>
                </div>
              </div>
            </div>  
              <div class="col-md-5 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Top used topic</h4>
                    <p class="card-description" style="font-family: 'NanumSquareNeo-Variable'"> *게시글 키워드</p>
                    <canvas id="textbarChart" style="display: none;" style="height:300px"></canvas>
                  </div>
                  <div class="card-body">
                    <h4 class="card-title">Top used #</h4>
                    <p class="card-description" style="font-family: 'NanumSquareNeo-Variable'"> *해시태그</p>
                    <canvas id="tagbarChart" style="display: none;" style="height:300px"></canvas>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6 grid-margin stretch-card">
                  <div class="card">
                    <div class="card-body">
                      <h4 class="card-title" style="font-family: 'NanumSquareNeo-Variable'">8월 팔로워 추이</h4>
                      <p class="card-description" style="font-family: 'NanumSquareNeo-Variable'"> *총 팔로워</p>
                      
                      <div id = "chart-container-01"></div>
                       
                    </div>
                  </div>
                </div>
                <div class="col-lg-6 grid-margin stretch-card">
                  <div class="card">
                    <div class="card-body">
                      <h4 class="card-title" style="font-family: 'NanumSquareNeo-Variable'">타 인플루언서 대비</h4>
                      <p class="card-description" style="font-family: 'NanumSquareNeo-Variable'">*팔로워 증감율</p>
  
                      <div id = "chart-container-02"></div>
                      
                    </div>
                  </div>
                </div>
              </div>
            <div class="row">
              <div class="col-md-7 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Feed Preview</h4>
                    <p class="card-description" style="font-family: 'NanumSquareNeo-Variable'"> *최근 게시물 미리보기</p>
                    
                    <img src="" alt="Instagram Image" class="small-image" id="feed1">
                    <img src="" alt="Instagram Image" class="small-image" id="feed2">
                    <img src="" alt="Instagram Image" class="small-image" id="feed3">
                    <img src="" alt="Instagram Image" class="small-image" id="feed4">
                    <img src="" alt="Instagram Image" class="small-image" id="feed5">
                    <img src="" alt="Instagram Image" class="small-image" id="feed6">
                    <img src="" alt="Instagram Image" class="small-image" id="feed7">
                    <img src="" alt="Instagram Image" class="small-image" id="feed8">
                    <img src="" alt="Instagram Image" class="small-image" id="feed9">
  
                  </div>
                </div>
              </div>
              <div class="col-md-5 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Popular Post</h4>
                    <p class="card-description" style="font-family: 'NanumSquareNeo-Variable'"> *좋아요가 가장 많은 포스트</p>
                    <div class="info">
                      <div class="user">
                        <img id="profileimg2" class="img-xs rounded-circle me-4" alt="image">
                          <p id="userid"></p>
                      </div>
                      <img src="/static/assets/option.PNG" class="options" alt="">
                  </div>
                  <div style="text-align: center; height: 250px">
                    <span style="display: inline-block; vertical-align: middle; line-height: 250px">
                    <div id="media-container" style="text-align: center; height: 250px;"></div>
                    </span>
                  </div>
                    <div class="post-content">
                      <div class="reaction-wrapper">
                          <img src="/static/assets/like.PNG" class="icon" alt="">
                          <img src="/static/assets/comment.PNG" class="icon" alt="">
                          <img src="/static/assets/send.PNG" class="icon" alt="">
                          <img src="/static/assets/save.PNG" class="save icon" alt="">
                      </div>
                      <p class="likes" id="like_count"></p>
                      <p class="description" id="caption"><span class="useriddisplay"></span></p>
                      <p class="post-time" id="mediadate"></p>
                  </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
          <!-- partial -->
        <!-- main-panel ends -->
      </div>
      <!-- 위로가는버튼 -->
      <div class="move_to_top_btn">
        <a href="#"><i class="bi bi-caret-up-fill"></i></a>
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="../../static/templates/assets/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <script src="../../static/templates/assets/vendors/chart.js/Chart.min.js"></script>
    <script src="../../static/templates/assets/js/jquery.cookie.js" type="text/javascript"></script>
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="../../static/templates/assets/js/off-canvas.js"></script>
    <script src="../../static/templates/assets/js/hoverable-collapse.js"></script>
    <script src="../../static/templates/assets/js/misc.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page -->
    <script src="../../static/templates/assets/js/dashboard.js"></script>
    <script src="../../static/templates/assets/js/todolist.js"></script>
    <!-- End custom js for this page -->


    <script src="../../static/templates/assets/js/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
      
    <script>
      $(document).ready(function() {

        <!-- 스크롤바 없애는 스크립트 -->
        var divHeight = window.innerHeight-57;
        $('#sidebar').css('height',divHeight+'px');
        $('.main-panel').css('height',divHeight+'px');


        var ig_id='{{ig_id}}';         
        $.ajax({
                        type: "POST",
                        url: "/analysis/get_influencer_analysis",  
                        dataType:'json',
                        contentType:'application/json',
                        data: JSON.stringify({
                            ig_id: ig_id
                        }),
                        beforeSend : function(){
                          console.log(window);
                          var left = innerWidth/2-50;
                          var top = innerHeight/2-30;
                          var mainPanelHeight = $('.main-panel').css('height');
                          console.log(mainPanelHeight);
                          $('.main-panel').append('<div id="blur_panel" style="width:100%;height:'+mainPanelHeight+';position:absolute;z-index:999;background-color:black;opacity: 0.5;"></div>');
                          $('.main-panel').append('<img id="img_progress" src="../static/assets/loading-gif.gif" style="width:100px;position:absolute;left:'+left+'px;top:'+top+'px;z-index:9999;" />');
                        },
                        complete:function(){
                          $('#img_progress').remove();
                          $('#blur_panel').remove();
                        },
                        success: function(data) {
                          console.log(data.media_data.date);
                          
                          
                          $('#profileimg').attr('src','../static/assets/'+data.influencer_data.userid+'.jpg');
                          $('#profileimg2').attr('src','../static/assets/'+data.influencer_data.userid+'.jpg');
                          

                          //user fix
                          $('#userid').text(data.influencer_data.userid);
                          var modifiedUsername = "@" + data.influencer_data.userid;
                          $('.useriddisplay').text(modifiedUsername);
                          $('#username').text(data.influencer_data.username);  
                          $('#biography').text(data.influencer_data.biography);
                          var website = data.influencer_data.website;
                          $("#websitelink").html('<a href="' + website + '">' + website + '</a>'); 

                          //user info
                          $('#follows_count').text(data.influencer_data_details.follows_count);
                          $('#followers_count').text(data.influencer_data_details.followers_count.toLocaleString());
                          $('#media_count').text(data.influencer_data_details.media_count);
                          $('#date').text(data.influencer_data_details.date);

                          var imageText = data.image;
                          imageText = imageText.replace('gorg', 'gorgeous');
                          $('#maximage').text(imageText);

                         
                          //follower trend
                          $('.max-growth-date').text(data.follower_trend.max_growth_date);
                          var diff = data.follower_trend.diff + "  than yesterday"
                          $('#diffdisplay').text(diff);
                          $('#compare').text(data.follower_trend.compare);
                          $('#average').text(data.follower_trend.average+'명');
                          $('#average_growth').text(data.follower_trend.average_growth);
                          var positive = data.follower_trend.positive;
                          if (positive) {
                              $('#average, #average_growth').css('color', '#1bcfb4');
                          } else {
                              $('#average, #average_growth').css('color', '#fe7c96');
                          }

                          //statistic
                          $('#average_like').text(data.statistic.average_like+' 개');
                          $('#average_comment').text(data.statistic.average_comment+' 개');
                          $('#average_media').text(data.statistic.average_media);

                          var engagement = data.statistic.engagement / data.influencer_data_details.followers_count;
                          var formattedEngagement = (engagement * 100).toFixed(3); 
                          $('#engagement').text(formattedEngagement + "%");
                          if (formattedEngagement > 1.4) {
                            $('#compareengagement').text("타 인플루언서들 보다 참여율이 높습니다");
                            $('#engagement').css('color', '#1bcfb4');
                          } else {
                            $('#compareengagement').text("타 인플루언서들 보다 참여율이 낮습니다");
                            $('#engagement').css('color', '#fe7c96');
                          }
                          $('#engagement').text(formattedEngagement + "%");

                          //image link
                          $('#feed1').attr('src', data.image_link[0]);
                          $('#feed2').attr('src', data.image_link[1]);
                          $('#feed3').attr('src', data.image_link[2]);
                          $('#feed4').attr('src', data.image_link[3]);
                          $('#feed5').attr('src', data.image_link[4]);
                          $('#feed6').attr('src', data.image_link[5]);
                          $('#feed7').attr('src', data.image_link[6]);
                          $('#feed8').attr('src', data.image_link[7]);
                          $('#feed9').attr('src', data.image_link[8]);

                          
                          //media data
                          var timestamp = "update "+ data.media_data.timestamp;
                          $('#timestampdisplay').text(timestamp);
                          $('#caption').text(data.media_data.caption);
                          var likecount = data.media_data.like_count + " likes"
                          $('#like_count').text(likecount);
                          $('#mediadate').text(data.media_data.date);
                          $('#media_id').text(data.media_data.media_id);
                          
                          var mediaUrl = data.media_data.media_url;
                          var Permalink = data.media_data.permalink;

        
                          // Check if the media URL contains "jpg" (image)
                          var isImage = mediaUrl && mediaUrl.includes("jpg");

                          if (isImage) {
                              // Create an image element and set its attributes
                              var imageElement = $('<img>');
                              imageElement.attr({
                                  'src': mediaUrl,
                                  'alt': 'Instagram Image',
                                  'class':'medium-image'
                              });
                              
                              // Append the image element to the media-container div
                              $('#media-container').append(imageElement);
                          } else {
                            // Create a link element that displays "게시글 보러가기"
                            var linkElement = $('<a>');
                            linkElement.attr({
                                'href': Permalink,

                                'target': '_blank'
                                
                            });
                            linkElement.text('게시글 보러가기');
                    
                            // Append the link element to the media-container div
                            $('#media-container').append(linkElement);
                        }
   
                            // 검색 결과(왼쪽그리드) 띄울때 DOM 객체 이용해서 css 조정
                            // var searchResults1 = document.getElementById('searchResults1');
                            // searchResults1.style.padding = "30px 70px 30px 70px";
                            // searchResults1.style.flex = "2";
                            // searchResults1.style.marginRight = "10px";
                            // searchResults1.style.backgroundColor = "#9a68af";

                            // // 검색 결과(오른쪽그리드) 띄울때 DOM 객체 이용해서 css 조정
                            // var searchResults2 = document.getElementById('searchResults2');
                            // searchResults2.style.padding = "50px";
                            // searchResults2.style.flex = "1";
                            // searchResults2.style.backgroundColor = "#9a68af";

                            // 팔로워 추이 그래프
                            Highcharts.chart('chart-container-01', {
                                            
                                            title: {
                                                text: null
                                            },
                                            xAxis: {
                                              categories: data.follower_trend.xData,
                                              labels: {
                                                  step: 7, // Display every 4th label
                                                  rotation: 0 // Rotate the labels to fit if needed
                                              }
                                            },
                                            yAxis: {
                                                title: {
                                                    text: null
                                                }
                                            },
                                            series: [{
                                                name: '# of followers',
                                                data: data.follower_trend.yData,
                                                color: '#b66dff' //색 뭐로하지..
                                            }],
                                            tooltip: {
                                                enabled: true, // Disable tooltips on hover
                                                // ... other tooltip configuration ...
                                            }
                                        });

                                // // 검색 결과 그래프 띄울때 DOM 객체 이용해서 css 조정
                                // document.getElementById('chart-container-01').style.width = "100%";
                                // document.getElementById('chart-container-01').style.height = "500px";
                                // document.getElementById('chart-container-01').style.padding = "50px";
                            

                            // 팔로워 증가율 그래프
                            Highcharts.chart('chart-container-02', {
                                
                                            title: {
                                                text: null
                                            },
                                            xAxis: {
                                              categories: data.follower_trend.xData,
                                              labels: {
                                                  step: 7, // Display every 4th label
                                                  rotation: 0 // Rotate the labels to fit if needed
                                              }
                                            },
                                            yAxis: {
                                                title: {
                                                    text: null
                                                }
                                            },
                                            plotOptions: {
                                                area: {
                                                    fillOpacity: 0.2, 
                                                    threshold: 0,  
                                                    marker: {
                                                        enabled: false
                                                    }
                                                  }
                                                },
                                            series: [{
                                                name: 'followers increase rate',
                                                data: data.follower_trend.growth_rates,
                                                color:'#b66dff' //색..뭐로하지
                                            },
                                            {
                                                name: 'others',
                                                type : 'area',
                                                color: 'grey', 
                                                fillColor: 'rgba(192, 192, 192, 0.2)',
                                                data: data.follower_trend.growth_rate_average
                                            }],
                                            tooltip: {
                                                enabled: true, // Disable tooltips on hover
                                                // ... other tooltip configuration ...
                                              }
                                        });
                                      
                                         //count text
                            var text1_topic = data.count_text[0].key;
                            var text1_count = data.count_text[0].value;
                            var text2_topic = data.count_text[1].key;
                            var text2_count = data.count_text[1].value;
                            var text3_topic = data.count_text[2].key;
                            var text3_count = data.count_text[2].value;
                            var text4_topic = data.count_text[3].key;
                            var text4_count = data.count_text[3].value;
                            var text5_topic = data.count_text[4].key;
                            var text5_count = data.count_text[4].value;

                            //count hashtag
                            var hashtag1_topic = data.count_hashtag[0].key;
                            var hashtag1_count = data.count_hashtag[0].value;
                            var hashtag2_topic = data.count_hashtag[1].key;
                            var hashtag2_count = data.count_hashtag[1].value;
                            var hashtag3_topic = data.count_hashtag[2].key;
                            var hashtag3_count = data.count_hashtag[2].value;
                            var hashtag4_topic = data.count_hashtag[3].key;
                            var hashtag4_count = data.count_hashtag[3].value;
                            var hashtag5_topic = data.count_hashtag[4].key;
                            var hashtag5_count = data.count_hashtag[4].value;

                            var yAxesDisplay = false; // y축 눈금의 숨김 여부를 설정합니다.

                            var tagbarChart = new Chart(
                                document.getElementById('tagbarChart'), {
                                  type: 'bar',
                                  data: {
                                    labels: ['Hashtags'],
                                    datasets: [{
                                      label: hashtag1_topic,
                                      data: [hashtag1_count],
                                      fill: true,
                                      backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                      borderColor: 'rgb(255, 99, 132)',
                                      borderWidth: 1
                                    }, {
                                      label: hashtag2_topic,
                                      data: [hashtag2_count],
                                      fill: true,
                                      backgroundColor: 'rgba(182, 109, 255, 0.2)',
                                      borderColor: 'rgba(182, 109, 255, 1)',
                                      borderWidth: 1
                                    }, {
                                      label: hashtag3_topic,
                                      data: [hashtag3_count],
                                      fill: true,
                                      backgroundColor: 'rgba(107, 166, 255, 0.2)',
                                      borderColor: 'rgba(107, 166, 255, 1)',
                                      borderWidth: 1
                                    }, {
                                      label: hashtag4_topic,
                                      data: [hashtag4_count],
                                      fill: true,
                                      backgroundColor: 'rgba(92, 255, 211, 0.2)',
                                      borderColor: 'rgba(92, 255, 211, 1)',
                                      borderWidth: 1
                                    }, {
                                      label: hashtag5_topic,
                                      data: [hashtag5_count],
                                      fill: true,
                                      backgroundColor: 'rgba(244, 141, 103, 0.2)',
                                      borderColor: 'rgba(244, 141, 103, 1)',
                                      borderWidth: 1
                                    }] //end of dataset
                                  }, //end of data
                                  options: {
                                    scales: {
                                      y: {
                                        beginAtZero: true,
                                        display: yAxesDisplay, // y축 눈금 숨기기
                                      },
                                    },
                                    layout: {
                                      padding: {
                                        left: 10,
                                        right: 10,
                                        top: 0,
                                        bottom: 0
                                      }
                                    },
                                  }
                                }
                              );
                              $('#tagbarChart').show();


                              var textbarChart = new Chart(
                                document.getElementById('textbarChart'), {
                                  type: 'bar',
                                  data: {
                                    labels: ['Keywords'],
                                    datasets: [{
                                      label: text1_topic,
                                      data: [text1_count],
                                      fill: true,
                                      backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                      borderColor: 'rgb(255, 99, 132)',
                                      borderWidth: 1
                                    }, {
                                      label: text2_topic,
                                      data: [text2_count],
                                      fill: true,
                                      backgroundColor: 'rgba(182, 109, 255, 0.2)',
                                      borderColor: 'rgba(182, 109, 255, 1)',
                                      borderWidth: 1
                                    }, {
                                      label: text3_topic,
                                      data: [text3_count],
                                      fill: true,
                                      backgroundColor: 'rgba(107, 166, 255, 0.2)',
                                      borderColor: 'rgba(107, 166, 255, 1)',
                                      borderWidth: 1
                                    }, {
                                      label: text4_topic,
                                      data: [text4_count],
                                      fill: true,
                                      backgroundColor: 'rgba(92, 255, 211, 0.2)',
                                      borderColor: 'rgba(92, 255, 211, 1)',
                                      borderWidth: 1
                                    }, {
                                      label: text5_topic,
                                      data: [text5_count],
                                      fill: true,
                                      backgroundColor: 'rgba(244, 141, 103, 0.2)',
                                      borderColor: 'rgba(244, 141, 103, 1)',
                                      borderWidth: 1
                                    }] //end of dataset
                                  }, //end of data
                                  options: {
                                    scales: {
                                      y: {
                                        display: yAxesDisplay,
                                        ticks: {
                                          display: yAxesDisplay, // y축 눈금 숨기기
                                        },
                                        beginAtZero: true
                                      },
                                    },
                                    layout: {
                                      padding: {
                                        left: 10,
                                        right: 10,
                                        top: 0,
                                        bottom: 0
                                      }
                                    },
                                  }
                                }
                              );
                              $('#textbarChart').show();

                              
                                        
                          
      
                                        

                        var media = data.statistic.media;
                        var like = data.statistic.like;  
                        var comment = data.statistic.comment;  

                        Chart.defaults.global.legend.labels.usePointStyle = true;
                        var ctx = document.getElementById('feedchart').getContext("2d");

                        var gradientStrokeViolet = ctx.createLinearGradient(0, 0, 0, 181);
                        gradientStrokeViolet.addColorStop(0, 'rgba(218, 140, 255, 1)');
                        gradientStrokeViolet.addColorStop(1, 'rgba(154, 85, 255, 1)');
                        var gradientLegendViolet = 'linear-gradient(to right, rgba(218, 140, 255, 1), rgba(154, 85, 255, 1))';
                        
                        var gradientStrokeBlue = ctx.createLinearGradient(0, 0, 0, 360);
                        gradientStrokeBlue.addColorStop(0, 'rgba(54, 215, 232, 1)');
                        gradientStrokeBlue.addColorStop(1, 'rgba(177, 148, 250, 1)');
                        var gradientLegendBlue = 'linear-gradient(to right, rgba(54, 215, 232, 1), rgba(177, 148, 250, 1))';

                        var gradientStrokeRed = ctx.createLinearGradient(0, 0, 0, 300);
                        gradientStrokeRed.addColorStop(0, 'rgba(255, 191, 150, 1)');
                        gradientStrokeRed.addColorStop(1, 'rgba(254, 112, 150, 1)');
                        var gradientLegendRed = 'linear-gradient(to right, rgba(255, 191, 150, 1), rgba(254, 112, 150, 1))';

                        var feedchart = new Chart(ctx, {
                          type: 'bar',
                          data: {
                              labels: ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL'],
                              datasets: [
                                {
                                  label: "Media",
                                  borderColor: gradientStrokeViolet,
                                  backgroundColor: gradientStrokeViolet,
                                  hoverBackgroundColor: gradientStrokeViolet,
                                  legendColor: gradientLegendViolet,
                                  pointRadius: 0,
                                  fill: false,
                                  borderWidth: 1,
                                  fill: 'origin',
                                  data: media
                                },
                                {
                                  label: "Likes",
                                  borderColor: gradientStrokeRed,
                                  backgroundColor: gradientStrokeRed,
                                  hoverBackgroundColor: gradientStrokeRed,
                                  legendColor: gradientLegendRed,
                                  pointRadius: 0,
                                  fill: false,
                                  borderWidth: 1,
                                  fill: 'origin',
                                  data: like
                                },
                                {
                                  label: "comment",
                                  borderColor: gradientStrokeBlue,
                                  backgroundColor: gradientStrokeBlue,
                                  hoverBackgroundColor: gradientStrokeBlue,
                                  legendColor: gradientLegendBlue,
                                  pointRadius: 0,
                                  fill: false,
                                  borderWidth: 1,
                                  fill: 'origin',
                                  data: comment
                                }
                            ]
                          },
                          options: {
                            responsive: true,
                            legend: false,
                            legendCallback: function(chart) {
                            var text = []; 
                            text.push('<ul>'); 
                            for (var i = 0; i < chart.data.datasets.length; i++) { 
                                text.push('<li><span class="legend-dots" style="background:' + 
                                          chart.data.datasets[i].legendColor + 
                                          '"></span>'); 
                                if (chart.data.datasets[i].label) { 
                                    text.push(chart.data.datasets[i].label); 
                                } 
                                text.push('</li>'); 
                            } 
                            text.push('</ul>'); 
                            return text.join('');
                          },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        display: false,
                                        min: 0,
                                        stepSize: 20,
                                        max: 80
                                    },
                                    gridLines: {
                                      drawBorder: false,
                                      color: 'rgba(235,237,242,1)',
                                      zeroLineColor: 'rgba(235,237,242,1)'
                                    }
                                }],
                                xAxes: [{
                                    gridLines: {
                                      display:false,
                                      drawBorder: false,
                                      color: 'rgba(0,0,0,1)',
                                      zeroLineColor: 'rgba(235,237,242,1)'
                                    },
                                    ticks: {
                                        padding: 20,
                                        fontColor: "#9c9fa6",
                                        autoSkip: true,
                                    },
                                    barPercentage: 0.8,
                                    categoryPercentage: 0.8 // Adjust the value as needed
                                }]
                              }
                            },
                            elements: {
                              point: {
                                radius: 0
                              }
                            }
                        })
                        $("#feedchart-legend").html(feedchart.generateLegend());

                      var reels = data.ratio.null_count;
                      var image = data.ratio.jpg_count;
                      var video = data.ratio.mp4_count;

                      var gradientStrokeBlue = ctx.createLinearGradient(0, 0, 0, 181);
                      gradientStrokeBlue.addColorStop(0, 'rgba(54, 215, 232, 1)');
                      gradientStrokeBlue.addColorStop(1, 'rgba(177, 148, 250, 1)');
                      var gradientLegendBlue = 'linear-gradient(to right, rgba(54, 215, 232, 1), rgba(177, 148, 250, 1))';

                      var gradientStrokeRed = ctx.createLinearGradient(0, 0, 0, 50);
                      gradientStrokeRed.addColorStop(0, 'rgba(255, 191, 150, 1)');
                      gradientStrokeRed.addColorStop(1, 'rgba(254, 112, 150, 1)');
                      var gradientLegendRed = 'linear-gradient(to right, rgba(255, 191, 150, 1), rgba(254, 112, 150, 1))';

                      var gradientStrokeGreen = ctx.createLinearGradient(0, 0, 0, 300);
                      gradientStrokeGreen.addColorStop(0, 'rgba(6, 185, 157, 1)');
                      gradientStrokeGreen.addColorStop(1, 'rgba(132, 217, 210, 1)');
                      var gradientLegendGreen = 'linear-gradient(to right, rgba(6, 185, 157, 1), rgba(132, 217, 210, 1))';      

                      var MediaChartData = {
                        datasets: [{
                          data: [image, video, reels],
                          backgroundColor: [
                            gradientStrokeBlue,
                            gradientStrokeGreen,
                            gradientStrokeRed
                          ],
                          hoverBackgroundColor: [
                            gradientStrokeBlue,
                            gradientStrokeGreen,
                            gradientStrokeRed
                          ],
                          borderColor: [
                            gradientStrokeBlue,
                            gradientStrokeGreen,
                            gradientStrokeRed
                          ],
                          legendColor: [
                            gradientLegendBlue,
                            gradientLegendGreen,
                            gradientLegendRed
                          ]
                        }],
                    
                        // These labels appear in the legend and in the tooltips when hovering different arcs
                        labels: [
                          'Image',
                          'Video',
                          'Reels',
                        ]
                      };
                      var MediaChartOptions = {
                        responsive: true,
                        animation: {
                          animateScale: true,
                          animateRotate: true
                        },
                        legend: false,
                        legendCallback: function(chart) {
                          var text = []; 
                          text.push('<ul>'); 
                          for (var i = 0; i < MediaChartData.datasets[0].data.length; i++) { 
                              text.push('<li><span class="legend-dots" style="background:' + 
                                MediaChartData.datasets[0].legendColor[i] + 
                                          '"></span>'); 
                              if (MediaChartData.labels[i]) { 
                                  text.push(MediaChartData.labels[i]); 
                              }
                              text.push('<span class="float-right">'+" : "+MediaChartData.datasets[0].data[i]+'</span>')
                              text.push('</li>'); 
                          } 
                          text.push('</ul>'); 
                          return text.join('');
                        }
                      };
                      var MediaChartCanvas = $("#mediachart").get(0).getContext("2d");
                      var MediaChart = new Chart(MediaChartCanvas, {
                        type: 'doughnut',
                        data: MediaChartData,
                        options: MediaChartOptions
                      });
                      $("#mediachart-legend").html(MediaChart.generateLegend()); 
                      

                        }          
          });
      });
    </script>
  </body>
</html>